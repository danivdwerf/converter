<!DOCTYPE html><head><meta charset='utf-8' /></head><html><body><style>pre {color: white;padding: 0.5em;margin: 0;background-color: #222;overflow-x: auto;}code .pink_code{color: #ff3385;}code .blue_code{color: #00bfff;}code .orange_code{color: darkorange;}code .green_code{color:#00C78C;}code .comment_code, code .comment_code *{color:#999 !important;}code .purple_code{color: #cc66ff;}code .yellow_code{color: #ffe066;}</style><pre><code>ï»¿<span class='pink_code'>using</span> <span class='blue_code'>UnityEngine</span>;

[<span class='blue_code'>System</span>.<span class='green_code'>Serializable</span>]
<span class='pink_code'>public</span> <span class='pink_code'>class</span> <span class='blue_code'>Audio</span>
{
    [<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> <span class='pink_code'>string</span> name = <span class='yellow_code'>""</span>;
    <span class='pink_code'>public</span> <span class='pink_code'>string</span> <span class='blue_code'>Name</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> name;} <span class='pink_code'>set</span>{name = value;}}

    [<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> <span class='blue_code'>AudioClip</span> clip = <span class='pink_code'>null</span>;
    <span class='pink_code'>public</span> <span class='blue_code'>AudioClip</span> <span class='blue_code'>Clip</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> clip;} <span class='pink_code'>set</span>{clip = value;}}

    [<span class='blue_code'>Range</span>(0, 1)][<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> <span class='pink_code'>float</span> volume = 1;
    <span class='pink_code'>public</span> <span class='pink_code'>float</span> <span class='blue_code'>Volume</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> volume;} <span class='pink_code'>set</span>{volume = value;}}

    [<span class='blue_code'>Range</span>(-3, 3)][<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> <span class='pink_code'>float</span> pitch = 1;
    <span class='pink_code'>public</span> <span class='pink_code'>float</span> <span class='blue_code'>Pitch</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> pitch;} <span class='pink_code'>set</span>{pitch = value;}}

    [<span class='blue_code'>Range</span>(-1, 1)][<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> <span class='pink_code'>float</span> panning = 0;
    <span class='pink_code'>public</span> <span class='pink_code'>float</span> <span class='blue_code'>Panning</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> panning;} <span class='pink_code'>set</span>{panning = value;}}

    [<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> bool loop = <span class='purple_code'>false</span>;
    <span class='pink_code'>public</span> bool <span class='blue_code'>Loop</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> loop;} <span class='pink_code'>set</span>{loop = value;}}
 
    [<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> bool playFromStart = <span class='purple_code'>false</span>;
    <span class='pink_code'>public</span> bool <span class='blue_code'>PlayFromStart</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> playFromStart;} <span class='pink_code'>set</span>{playFromStart = value;}}

    [<span class='blue_code'>Range</span>(0,1)][<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> <span class='pink_code'>float</span> spatialBlend = 0;
    <span class='pink_code'>public</span> <span class='pink_code'>float</span> <span class='blue_code'>SpatialBlend</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> spatialBlend;} <span class='pink_code'>set</span>{spatialBlend = value;}}

    [<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> <span class='pink_code'>float</span> minDistance = 0;
    <span class='pink_code'>public</span> <span class='pink_code'>float</span> <span class='blue_code'>MinDistance</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> minDistance;} <span class='pink_code'>set</span>{minDistance = value;}}

    [<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> <span class='pink_code'>float</span> maxDistance = 10;
    <span class='pink_code'>public</span> <span class='pink_code'>float</span> <span class='blue_code'>MaxDistance</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> maxDistance;} <span class='pink_code'>set</span>{maxDistance = value;}}

    [<span class='blue_code'>SerializeField</span>]<span class='pink_code'>private</span> <span class='blue_code'>Transform</span> soundPosition = <span class='pink_code'>null</span>;
    <span class='pink_code'>public</span> <span class='blue_code'>Transform</span> <span class='blue_code'>SoundPosition</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> soundPosition;} <span class='pink_code'>set</span>{soundPosition = value;}}

	<span class='pink_code'>private</span> <span class='blue_code'>AudioSource</span> source;
	<span class='pink_code'>public</span> <span class='blue_code'>AudioSource</span> <span class='blue_code'>Source</span>{<span class='pink_code'>get</span>{<span class='pink_code'>return</span> source;}}

	<span class='pink_code'>public</span> <span class='pink_code'>void</span><span class='orange_code'> setSource</span>(<span class='blue_code'>AudioSource</span> source)
	{
		<span class='purple_code'>this</span>.<span class='green_code'>source</span> = source;
		<span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>playOnAwake</span> = <span class='purple_code'>false</span>;
		<span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>clip</span> = <span class='purple_code'>this</span>.<span class='green_code'>clip</span>;
		<span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>volume</span> = <span class='purple_code'>this</span>.<span class='green_code'>volume</span>;
		<span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>pitch</span> = <span class='purple_code'>this</span>.<span class='green_code'>pitch</span>;
		<span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>panStereo</span> = <span class='purple_code'>this</span>.<span class='green_code'>panning</span>;
		<span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>loop</span> = <span class='purple_code'>this</span>.<span class='green_code'>loop</span>;
        <span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>spatialBlend</span> = <span class='purple_code'>this</span>.<span class='green_code'>spatialBlend</span>;

        <span class='pink_code'>if</span> (<span class='purple_code'>this</span>.<span class='green_code'>spatialBlend</span> &gt; 0)
        {
            <span class='pink_code'>if</span> (soundPosition == <span class='pink_code'>null</span>)
                soundPosition = <span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>transform</span>;
            <span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>minDistance</span> = <span class='purple_code'>this</span>.<span class='green_code'>minDistance</span>;
            <span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>maxDistance</span> = <span class='purple_code'>this</span>.<span class='green_code'>maxDistance</span>;
            <span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>rolloffMode</span> = <span class='blue_code'>AudioRolloffMode</span>.<span class='green_code'>Linear</span>;
            <span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>transform</span>.<span class='green_code'>position</span> = soundPosition.<span class='green_code'>position</span>;
        }

        <span class='pink_code'>if</span> (<span class='purple_code'>this</span>.<span class='green_code'>playFromStart</span>)
            <span class='purple_code'>this</span>.<span class='green_code'></span><span class='orange_code'>source.<span class='green_code'></span><span class='orange_code'>Play</span></span>();
	}

	<span class='pink_code'>public</span> <span class='pink_code'>void</span><span class='orange_code'> play</span>()
	{
		<span class='pink_code'>if</span>(!<span class='purple_code'>this</span>.<span class='green_code'>source</span>.<span class='green_code'>isPlaying</span>)
			<span class='purple_code'>this</span>.<span class='green_code'></span><span class='orange_code'>source.<span class='green_code'></span><span class='orange_code'>Play </span></span>();
	}

	<span class='pink_code'>public</span> <span class='pink_code'>void</span><span class='orange_code'> stop</span>()
	{
		<span class='purple_code'>this</span>.<span class='green_code'></span><span class='orange_code'>source.<span class='green_code'></span><span class='orange_code'>Stop </span></span>();
	}
}
</code></pre></body>